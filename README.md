# Dotfiles

私の個人的な設定ファイル（dotfiles）リポジトリです。
依存関係のない独自のインストールスクリプト（`install.sh`）を使用して、安全かつ柔軟にシンボリックリンクを管理します。

## 特徴

- **依存関係ゼロ:** `git` と `bash` さえあれば動作します（GNU Stowなどは不要）。
- **トピック指向:** 設定は機能（例: `nvim`, `zsh`, `git`）ごとにディレクトリ分けされています。
- **自動リンク（Convention）:** 規定のディレクトリ構造に従うだけで、自動的に適切な場所にリンクされます。
- **高度なカスタマイズ:** `.links` ファイルを使用することで、任意の場所へのリンクやワイルドカード展開が可能です。
- **安全性:** 既存のファイルを上書きする際、自動的にバックアップを作成します。
- **開発時のプロジェクトテンプレート:** dev/templatesディレクトリに、cookiecutterのプロジェクトテンプレートを容易しています。

## インストール

リポジトリを任意の場所にクローンし、セットアップスクリプトを実行してください。

```bash
# 1. リポジトリをクローン (場所はどこでもOK)
git clone https://github.com/neelbauman/dotfiles.git ~/dotfiles

# 2. ディレクトリに移動
cd ~/dotfiles

# 3. インストールスクリプトを実行
./install.sh
```

## ディレクトリ構造とルール

このリポジトリは「Convention over Configuration（設定より規約）」の哲学に基づいています。
各トピックディレクトリ内のフォルダ名によって、インストール先が自動的に決定されます。

### 1\. `config/` ディレクトリ

`~/.config/` 以下に配置されます。ディレクトリ構造はそのまま維持されます。

  - **配置例:** `dotfiles/nvim/config/nvim/init.lua`
  - **リンク先:** `~/.config/nvim/init.lua`

### 2\. `home/` ディレクトリ

ホームディレクトリ `~/` 直下に配置されます。
**ファイル名にドット（`.`）が含まれていない場合、リンク作成時に自動的に付与されます。**

  - **配置例:** `dotfiles/zsh/home/zshrc` （ドットなし）
  - **リンク先:** `~/.zshrc` （ドットあり）

### 3\. `bin/` ディレクトリ

`~/.local/bin/` に配置されます（実行権限のあるスクリプト用）。

  - **配置例:** `dotfiles/scripts/bin/my-tool`
  - **リンク先:** `~/.local/bin/my-tool`

-----

## 高度な設定 (.links)

上記のルールに当てはまらない場合、各トピックディレクトリに `.links` ファイルを作成することで、リンク先を明示的に指定できます。

### 書式

```text
<リポジトリ内の相対パス> <インストール先の絶対パス>
```

### `.links` の使用例

**例1: ファイル単体を特定の名前に変更してリンク**

```text
# dotfiles/git/.links
gitconfig ~/.gitconfig
gitignore_global ~/.gitignore_global
```

**例2: ワイルドカード（`*`）を使用してフラットに展開**
末尾に `/*` を付けると、ディレクトリそのものではなく、中のファイルを個別にリンクします。

```text
# dotfiles/zsh/.links
completions/* ~/.zsh/completions/
```

**例3: ディレクトリ構造を丸ごと維持（デフォルト挙動と同じ）**

```text
# dotfiles/nvim/.links
config ~/.config/nvim
```

## 除外ファイル

以下のファイル・ディレクトリはインストーラーによって無視されます。

  - `.git`, `.github`
  - `.DS_Store`
  - `install.sh`
  - その他、スクリプト内で定義された一時ファイルなど

## License

MIT

